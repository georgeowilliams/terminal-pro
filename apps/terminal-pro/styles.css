    :root{
      --bg: #0b1020;
      --panel: #0f1630;
      --panel2:#111b3a;
      --text: #e6e6e6;
      --muted:#a7b0cc;
      --accent:#7aa2ff;
      --accent2:#88f0c7;
      --warn:#ffd57a;
      --danger:#ff7a7a;
      --border: rgba(255,255,255,0.08);
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: var(--sans);
      background: radial-gradient(1200px 900px at 30% 10%, #152252 0%, var(--bg) 50%, #070a14 100%);
      color: var(--text);
    }
    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration:underline; }
    .app{
      display:grid;
      grid-template-columns: 320px 1fr;
      min-height:100vh;
    }
    .sidebar{
      border-right:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      padding:18px 14px;
      position:sticky;
      top:0;
      height:100vh;
      overflow:auto;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      margin-bottom:14px;
    }
    .logo{
      width:40px;height:40px;border-radius:10px;
      background: linear-gradient(145deg, rgba(122,162,255,0.35), rgba(136,240,199,0.25));
      border:1px solid var(--border);
      display:grid; place-items:center;
      font-family: var(--mono);
      color: var(--accent2);
      font-weight:700;
    }
    .brand h1{
      font-size:14px; margin:0; letter-spacing:0.2px;
    }
    .brand .sub{
      font-size:12px; color: var(--muted); margin-top:2px;
    }
    .search{
      margin:10px 0 14px;
      display:flex;
      gap:8px;
    }
    .search input{
      width:100%;
      padding:10px 10px;
      border-radius:10px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.25);
      color: var(--text);
      outline:none;
      font-family: var(--mono);
      font-size:12px;
    }
    .chiprow{ display:flex; flex-wrap:wrap; gap:8px; margin-bottom:14px; }
    .chip{
      font-size:11px;
      border:1px solid var(--border);
      padding:6px 8px;
      border-radius:999px;
      color: var(--muted);
      background: rgba(255,255,255,0.03);
      cursor:pointer;
      user-select:none;
    }
    .chip.active{
      color: var(--text);
      border-color: rgba(122,162,255,0.35);
      background: rgba(122,162,255,0.12);
    }
    .toc-title{
      font-size:12px;
      color: var(--muted);
      margin:14px 4px 8px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
    }
    .toc{
      display:flex;
      flex-direction:column;
      gap:8px;
      padding-bottom:14px;
    }
    .toc-item{
      border:1px solid var(--border);
      background: rgba(255,255,255,0.02);
      border-radius:12px;
      padding:10px 10px;
      cursor:pointer;
      transition: transform 0.05s ease, border-color 0.15s ease, background 0.15s ease;
    }
    .toc-item:hover{
      background: rgba(255,255,255,0.04);
      transform: translateY(-1px);
    }
    .toc-item.active{
      border-color: rgba(136,240,199,0.35);
      background: rgba(136,240,199,0.08);
    }
    .toc-item .kicker{
      font-size:10px;
      color: var(--muted);
      letter-spacing:0.5px;
      text-transform:uppercase;
      margin-bottom:4px;
    }
    .toc-item .title{
      font-size:13px;
      margin:0;
      line-height:1.25;
    }
    .toc-item .meta{
      margin-top:6px;
      font-size:11px;
      color: var(--muted);
      font-family: var(--mono);
    }

    .main{
      padding:22px 22px 40px;
      overflow:auto;
    }
    .topbar{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:14px;
    }
    .crumbs{
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .crumbs .small{
      font-size:12px; color: var(--muted);
    }
    .crumbs .big{
      font-size:18px; font-weight:700;
    }
    .navbtns{
      display:flex;
      gap:10px;
      align-items:center;
    }
    button{
      border:1px solid var(--border);
      background: rgba(255,255,255,0.03);
      color: var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-family: var(--mono);
      font-size:12px;
    }
    button:hover{ background: rgba(255,255,255,0.06); }
    button:disabled{ opacity:0.45; cursor:not-allowed; }
    .progresswrap{
      border:1px solid var(--border);
      border-radius:14px;
      background: rgba(255,255,255,0.02);
      overflow:hidden;
      height:12px;
      width:240px;
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(122,162,255,0.9), rgba(136,240,199,0.9));
    }

    .card{
      border:1px solid var(--border);
      border-radius:16px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.015));
      padding:18px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    }
    .content{
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .content h2{
      margin:0;
      font-size:16px;
    }
    .content p{
      margin:0;
      color: var(--text);
      line-height:1.55;
    }
    .content ul{ margin:0; padding-left:18px; color: var(--text); }
    .content li{ margin:6px 0; }

    pre, code{
      font-family: var(--mono);
      font-size:12px;
    }
    pre{
      margin:0;
      padding:14px;
      border-radius:14px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.35);
      overflow:auto;
      line-height:1.35;
    }
    .hint{
      border-left:3px solid rgba(122,162,255,0.7);
      padding:10px 12px;
      border-radius:10px;
      background: rgba(122,162,255,0.10);
      color: var(--text);
    }
    .warn{
      border-left:3px solid rgba(255,213,122,0.8);
      background: rgba(255,213,122,0.10);
    }
    .danger{
      border-left:3px solid rgba(255,122,122,0.8);
      background: rgba(255,122,122,0.10);
    }
    .grid2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
    }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(255,255,255,0.03);
      color: var(--muted);
      font-size:11px;
      font-family: var(--mono);
      width:max-content;
    }
    .footer{
      margin-top:14px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      color: var(--muted);
      font-size:12px;
      font-family: var(--mono);
    }
    .kbd{
      border:1px solid var(--border);
      border-bottom-color: rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.03);
      padding:2px 6px;
      border-radius:6px;
      font-family: var(--mono);
      color: var(--text);
      font-size:11px;
    }
    .term{
      border-bottom: 1px dotted rgba(136,240,199,0.7);
      background: rgba(136,240,199,0.08);
      cursor: help;
      border-radius: 4px;
      padding: 0 2px;
      transition: background 0.15s ease, border-color 0.15s ease;
    }
    .term:hover,
    .term:focus-visible{
      background: rgba(136,240,199,0.22);
      border-bottom-color: rgba(136,240,199,1);
      outline: none;
    }
    .tooltip{
      position: fixed;
      z-index: 2000;
      width: min(360px, calc(100vw - 24px));
      border: 1px solid var(--border);
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(24,33,67,0.96), rgba(13,19,42,0.96));
      box-shadow: 0 18px 36px rgba(0,0,0,0.42);
      padding: 12px;
      display: none;
    }
    .tooltip.open{ display:block; }
    .tooltip-head{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin-bottom:8px;
    }
    .tooltip-title{ margin:0; font-size:14px; }
    .tooltip-close{ padding:4px 8px; font-size:11px; }
    .tooltip-short{ color: var(--text); margin:0 0 8px; line-height:1.4; }
    .tooltip-more-btn{
      background:none;
      border:none;
      color:var(--accent2);
      padding:0;
      font-size:12px;
      cursor:pointer;
      font-family: var(--mono);
    }
    .tooltip-more{ display:none; margin-top:8px; color: var(--muted); line-height:1.45; }
    .tooltip-more.open{ display:block; }
    .tooltip-see{ margin-top:10px; display:flex; flex-wrap:wrap; gap:6px; }
    .see-chip{
      font-size:11px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(122,162,255,0.14);
      color: var(--text);
      cursor:pointer;
    }
    .glossary-wrap{
      display:grid;
      gap:12px;
    }
    .glossary-search{
      width:100%;
      padding:10px;
      border-radius:10px;
      border:1px solid var(--border);
      background: rgba(0,0,0,0.25);
      color: var(--text);
      font-family: var(--mono);
    }
    .glossary-list{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap:8px;
    }
    .glossary-item{
      border:1px solid var(--border);
      border-radius:10px;
      padding:8px;
      background: rgba(255,255,255,0.03);
      cursor:pointer;
      text-align:left;
      color:var(--text);
    }
    .glossary-empty{ color: var(--muted); font-style: italic; }
    .settings{
      margin-top: 14px;
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px;
      background: rgba(255,255,255,0.03);
      display:grid;
      gap:8px;
    }
    .settings .label{ font-size:11px; color:var(--muted); font-family:var(--mono); }
    .settings button{ width:100%; }
    button:focus-visible, .chip:focus-visible, .glossary-item:focus-visible, .toc-item:focus-visible { outline: 2px solid var(--accent2); outline-offset: 2px; }
    .complete-badge{ color: var(--accent2); font-weight:700; margin-left:6px; }
    .quiz-wrap{ border-top:1px solid var(--border); margin-top:8px; padding-top:14px; display:grid; gap:12px; }
    .quiz-card{ border:1px solid var(--border); border-radius:12px; padding:12px; background: rgba(255,255,255,0.02); }
    .quiz-card h4{ margin:0 0 8px; font-size:14px; }
    .quiz-choices{ display:grid; gap:6px; margin:8px 0; }
    .quiz-feedback{ margin-top:8px; font-size:12px; }
    .quiz-feedback.ok{ color: var(--accent2); }
    .quiz-feedback.bad{ color: var(--danger); }
    .quiz-answer{ margin-top:8px; }
    .quiz-answer pre{ margin-top:6px; }
    .practice-on .content > p,
    .practice-on .content > ul { opacity:0.86; }
    .drill-task{ border:1px dashed var(--border); border-radius:10px; padding:10px; background:rgba(122,162,255,0.08); }

    @media (max-width: 980px){
      .app{ grid-template-columns: 1fr; }
      .sidebar{ position:relative; height:auto; }
      .progresswrap{ width:160px; }
      .grid2{ grid-template-columns: 1fr; }
    }
  

.settings select{width:100%;padding:8px;border-radius:10px;border:1px solid var(--border);background:rgba(0,0,0,0.25);color:var(--text);font-family:var(--mono);font-size:12px;}
